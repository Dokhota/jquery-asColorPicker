/*! asColorInput - v0.1.3 - 2014-05-09
* https://github.com/amazingSurge/jquery-asColorInput
* Copyright (c) 2014 amazingSurge; Licensed GPL */
(function(t){t.asColorInput.registerComponent("hue",{height:150,data:{},init:function(e){var i=this,o='<div class="'+e.namespace+'-hue drag-disable"><i clsss="drag-disable"></i></div>';this.$hue=t(o).appendTo(e.$picker),this.$handle=this.$hue.children("i"),this.height=this.$hue.height(),this.$hue.on("mousedown.asColorInput",function(o){var a=o.which?3===o.which:2===o.button;return a?!1:(t.proxy(i.mousedown,i)(e,o),void 0)}),e.$element.on("asColorInput::ready",function(){i.height=i.$hue.height(),i.step=i.height/360,i.update(e),i.keyboard(e)})},mousedown:function(e,i){var o=this.$hue.offset();return this.data.startY=i.pageY,this.data.top=i.pageY-o.top,this.move(e,this.data.top),e.makeUnselectable(),this.mousemove=function(t){var i=this.data.top+(t.pageY||this.data.startY)-this.data.startY;return this.move(e,i),!1},this.mouseup=function(){return t(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.data.top=this.data.cach,e.cancelUnselectable(),!1},t(document).on({mousemove:t.proxy(this.mousemove,this),mouseup:t.proxy(this.mouseup,this)}),!1},move:function(t,e,i,o){e=Math.max(0,Math.min(this.height,e)),this.data.cach=e,i===void 0&&(i=360*(1-e/this.height)),i=Math.max(0,Math.min(360,i)),this.$handle.css({top:e}),o!==!1&&t.update({h:i},"hue")},moveUp:function(t){var e=this.step,i=this.data;i.top=i.top-e,i.top=Math.max(0,Math.min(this.width,i.top)),this.move(t,i.top)},moveDown:function(t){var e=this.step,i=this.data;i.top=i.top+e,i.top=Math.max(0,Math.min(this.width,i.top)),this.move(t,i.top)},update:function(t){var e=0===t.color.value.h?0:this.height*(1-t.color.value.h/360);this.move(t,e,t.color.value.h,!1)},keyboard:function(e){var i,o=this;return e._keyboard?(i=t.extend(!0,{},e._keyboard),this.$hue.attr("tabindex","0").on("focus",function(){return i.attach({up:function(){o.moveUp.call(o,e)},down:function(){o.moveDown.call(o,e)}}),!1}).on("blur",function(){i.detach()}),void 0):!1},destroy:function(){t(document).off({mousemove:this.mousemove,mouseup:this.mouseup})}})})(jQuery);