/*! colorInput - v0.1.3 - 2014-02-19
* https://github.com/amazingSurge/jquery-colorInput
* Copyright (c) 2014 amazingSurge; Licensed GPL */
$.colorInput.registerComponent("hHue",{selector:".colorInput-picker-hue",template:'<div class="colorInput-hue drag-disable"><i class="drag-disable"></i></div>',width:150,data:{},init:function(t){var e=this;this.$hue=$(this.template).appendTo(t.$picker),this.$handle=this.$hue.children("i"),this.$hue.on("mousedown.colorInput",function(o){var i=o.which?3==o.which:2==o.button;return i?!1:($.proxy(e.mousedown,e)(t,o),void 0)}),t.$element.on("colorInput::ready",function(){e.width=e.$hue.width(),e.step=e.width/360,e.update(t),e.keyboard(t)})},mousedown:function(t,e){var o=this.$hue.offset();return this.data.startX=e.pageX,this.data.left=e.pageX-o.left,this.move(t,this.data.left),t.makeUnselectable(),this.mousemove=function(e){var o=this.data.left+(e.pageX||this.data.startX)-this.data.startX;return this.move(t,o),!1},this.mouseup=function(){return $(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),this.data.left=this.data.cach,t.cancelUnselectable(),!1},$(document).on({mousemove:$.proxy(this.mousemove,this),mouseup:$.proxy(this.mouseup,this)}),!1},move:function(t,e,o,i){e=Math.max(0,Math.min(this.width,e)),this.data.cach=e,o===void 0&&(o=360*(1-e/this.width)),o=Math.max(0,Math.min(360,o)),this.$handle.css({left:e,background:$.colorValue.HSVtoHEX({h:o,s:1,v:1})}),i!==!1&&t.update({h:o},"hHue")},moveLeft:function(t){var e=this.step,o=this.data;o.left=o.left-e,o.left=Math.max(0,Math.min(this.width,o.left)),this.move(t,o.left)},moveRight:function(t){var e=this.step,o=this.data;o.left=o.left+e,o.left=Math.max(0,Math.min(this.width,o.left)),this.move(t,o.left)},keyboard:function(t){var e,o=this;return t._keyboard?(e=$.extend(!0,{},t._keyboard),this.$hue.attr("tabindex","0").on("focus",function(){return e.attach({left:function(){o.moveLeft.call(o,t)},right:function(){o.moveRight.call(o,t)}}),!1}).on("blur",function(){e.detach()}),void 0):!1},update:function(t){var e=0===t.color.value.h?0:this.width*(1-t.color.value.h/360);this.move(t,e,t.color.value.h,!1)},destroy:function(){$(document).off({mousemove:this.mousemove,mouseup:this.mouseup})}});