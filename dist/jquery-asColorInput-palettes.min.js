/*! asColorInput - v0.1.3 - 2014-06-26
* https://github.com/amazingSurge/jquery-asColorInput
* Copyright (c) 2014 amazingSurge; Licensed GPL */
!function(a){function b(){}window.localStorage||(window.localStorage=b),a.asColorInput.registerComponent("palettes",{defaults:{colors:["#fff","#ffff00","#f00","#0f0","#0ff","#000"],max:10,localStorage:!0},init:function(b,c){var d=this;if(this.options=a.extend(!0,{},this.defaults,c),this.options.localStorage){var e=b.namespace+"_palettes_"+b.id,f=this.getLocalItem(e);f&&(this.options.colors=f)}var g="";a.each(this.options.colors,function(a,b){g+=d.getItem(b)}),this.$palettes=a('<ul class="'+b.namespace+'-palettes"></ul>').html(g).appendTo(b.$dropdown),this.$palettes.delegate("li","click",function(c){var d=a(this).data("color");b.set(d),c.preventDefault(),c.stopPropagation()}),b.$element.on("asColorInput::apply",function(a,b){-1===d.options.colors.indexOf(b.originalColor)&&(d.options.colors.length>=d.options.max&&(d.options.colors.shift(),d.$palettes.find("li").eq(0).remove()),d.options.colors.push(b.originalColor),d.$palettes.append(d.getItem(b.originalColor)),d.options.localStorage&&d.setLocalItem(e,d.options.colors))})},getItem:function(a){return'<li data-color="'+a+'"><div style="background-color:'+a+'" /></li>'},setLocalItem:function(a,b){var c=JSON.stringify(b);localStorage[a]=c},getLocalItem:function(a){var b=localStorage[a];return b?JSON.parse(b):b}})}(jQuery);